/* ============================================
   iOS LIQUID GLASS (GLASSMORPHISM) STYLES
   ============================================ */

/* Global Glass Variables */
:root {
  --glass-bg: rgba(255, 255, 255, 0.7);
  --glass-bg-hover: rgba(255, 255, 255, 0.85);
  --glass-border: rgba(255, 255, 255, 0.3);
  --glass-shadow: 0 8px 32px rgba(0, 0, 0, 0.08);
  --glass-shadow-lg: 0 12px 48px rgba(0, 0, 0, 0.12);
  --glass-blur: blur(16px);
  --glass-blur-heavy: blur(24px);
}

.dark {
  --glass-bg: rgba(30, 30, 40, 0.6);
  --glass-bg-hover: rgba(30, 30, 40, 0.75);
  --glass-border: rgba(255, 255, 255, 0.15);
  --glass-shadow: 0 8px 32px rgba(0, 0, 0, 0.3);
  --glass-shadow-lg: 0 12px 48px rgba(0, 0, 0, 0.4);
}

/* ============================================
   PRIORITY 1: UI PANELS & MODALS
   ============================================ */

/* Popover Content - Filter Dropdown, Select Dropdowns */
[data-radix-popper-content-wrapper] > div,
[role="dialog"][data-radix-portal],
.popover-content,
[data-state="open"] > [role="menu"],
[data-side] {
  background: var(--glass-bg) !important;
  backdrop-filter: var(--glass-blur) !important;
  -webkit-backdrop-filter: var(--glass-blur) !important;
  border: 1px solid var(--glass-border) !important;
  box-shadow: var(--glass-shadow-lg) !important;
  border-radius: 12px !important;
}

/* Content Cards - Table containers, search bar containers */
.content-card {
  background: var(--glass-bg) !important;
  backdrop-filter: var(--glass-blur) !important;
  -webkit-backdrop-filter: var(--glass-blur) !important;
  border: 1px solid var(--glass-border) !important;
  box-shadow: var(--glass-shadow) !important;
  border-radius: 12px !important;
  will-change: transform;
  position: relative;
  overflow: visible;
}

/* Modal Backgrounds */
[role="dialog"],
.modal-background,
[data-state="open"][role="dialog"] {
  background: var(--glass-bg) !important;
  backdrop-filter: var(--glass-blur-heavy) !important;
  -webkit-backdrop-filter: var(--glass-blur-heavy) !important;
  border: 1px solid var(--glass-border) !important;
  box-shadow: var(--glass-shadow-lg) !important;
  border-radius: 16px !important;
}

/* Sheet/Drawer backgrounds */
[data-radix-dialog-content],
[role="dialog"][data-state="open"] {
  background: var(--glass-bg) !important;
  backdrop-filter: var(--glass-blur-heavy) !important;
  -webkit-backdrop-filter: var(--glass-blur-heavy) !important;
  border: 1px solid var(--glass-border) !important;
  box-shadow: var(--glass-shadow-lg) !important;
}

/* Select Content Dropdowns */
[role="listbox"],
[data-radix-select-content],
[data-radix-select-viewport] {
  background: var(--glass-bg) !important;
  backdrop-filter: var(--glass-blur) !important;
  -webkit-backdrop-filter: var(--glass-blur) !important;
  border: 1px solid var(--glass-border) !important;
  box-shadow: var(--glass-shadow) !important;
  border-radius: 10px !important;
}

/* Sidebar Glass Effect (Subtle) */
[data-sidebar="sidebar"] {
  background: var(--glass-bg) !important;
  backdrop-filter: var(--glass-blur) !important;
  -webkit-backdrop-filter: var(--glass-blur) !important;
  border-right: 1px solid var(--glass-border) !important;
  box-shadow: 4px 0 24px rgba(0, 0, 0, 0.06) !important;
}

/* ============================================
   PRIORITY 2: BUTTONS & INTERACTIVE ELEMENTS
   ============================================ */

/* Primary Buttons with Glass Effect */
button[class*="bg-primary"],
.button-glass {
  background: linear-gradient(135deg, rgba(255, 255, 255, 0.2), rgba(255, 255, 255, 0.05)) !important;
  backdrop-filter: blur(10px) !important;
  -webkit-backdrop-filter: blur(10px) !important;
  border: 1px solid rgba(255, 255, 255, 0.25) !important;
  box-shadow: 0 4px 16px rgba(0, 0, 0, 0.1),
              inset 0 1px 0 rgba(255, 255, 255, 0.3) !important;
  transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1) !important;
}

button[class*="bg-primary"]:hover,
.button-glass:hover {
  background: linear-gradient(135deg, rgba(255, 255, 255, 0.3), rgba(255, 255, 255, 0.1)) !important;
  box-shadow: 0 6px 20px rgba(0, 0, 0, 0.15),
              inset 0 1px 0 rgba(255, 255, 255, 0.4) !important;
  transform: translateY(-1px) !important;
}

/* Outline Buttons with Glass Effect */
button[class*="border-input"],
button[class*="variant-outline"] {
  background: rgba(255, 255, 255, 0.6) !important;
  backdrop-filter: blur(8px) !important;
  -webkit-backdrop-filter: blur(8px) !important;
  border: 1px solid rgba(0, 0, 0, 0.1) !important;
  box-shadow: 0 2px 8px rgba(0, 0, 0, 0.05),
              inset 0 1px 0 rgba(255, 255, 255, 0.5) !important;
  transition: all 0.2s ease !important;
}

button[class*="border-input"]:hover,
button[class*="variant-outline"]:hover {
  background: rgba(255, 255, 255, 0.8) !important;
  border: 1px solid rgba(0, 0, 0, 0.15) !important;
  box-shadow: 0 4px 12px rgba(0, 0, 0, 0.08),
              inset 0 1px 0 rgba(255, 255, 255, 0.6) !important;
  transform: translateY(-1px) !important;
}

/* Filter Button Specific Glass */
button:has(svg[class*="lucide-filter"]) {
  background: rgba(255, 255, 255, 0.65) !important;
  backdrop-filter: blur(10px) !important;
  -webkit-backdrop-filter: blur(10px) !important;
  border: 1px solid rgba(0, 0, 0, 0.08) !important;
  box-shadow: 0 2px 10px rgba(0, 0, 0, 0.06) !important;
}

/* Upload Button Glass */
button:has(svg[class*="lucide-upload"]) {
  background: rgba(255, 255, 255, 0.65) !important;
  backdrop-filter: blur(10px) !important;
  -webkit-backdrop-filter: blur(10px) !important;
  border: 1px solid rgba(0, 0, 0, 0.08) !important;
  box-shadow: 0 2px 10px rgba(0, 0, 0, 0.06) !important;
}

/* ============================================
   PRIORITY 3: INPUT FIELDS
   ============================================ */

/* Search Input Glass Effect */
input[type="text"],
input[type="search"],
input[class*="search"],
.search-input {
  background: rgba(255, 255, 255, 0.6) !important;
  backdrop-filter: blur(8px) !important;
  -webkit-backdrop-filter: blur(8px) !important;
  border: 1px solid rgba(0, 0, 0, 0.08) !important;
  box-shadow: inset 0 2px 4px rgba(0, 0, 0, 0.04) !important;
  transition: all 0.2s ease !important;
}

input[type="text"]:focus,
input[type="search"]:focus,
input[class*="search"]:focus,
.search-input:focus {
  background: rgba(255, 255, 255, 0.8) !important;
  border: 1px solid rgba(0, 0, 0, 0.12) !important;
  box-shadow: 0 0 0 3px rgba(59, 130, 246, 0.1),
              inset 0 2px 4px rgba(0, 0, 0, 0.04) !important;
}

/* Select Triggers */
[data-radix-select-trigger],
button[role="combobox"] {
  background: rgba(255, 255, 255, 0.6) !important;
  backdrop-filter: blur(8px) !important;
  -webkit-backdrop-filter: blur(8px) !important;
  border: 1px solid rgba(0, 0, 0, 0.08) !important;
  box-shadow: 0 1px 3px rgba(0, 0, 0, 0.05) !important;
  transition: all 0.2s ease !important;
}

[data-radix-select-trigger]:hover,
button[role="combobox"]:hover {
  background: rgba(255, 255, 255, 0.75) !important;
  border: 1px solid rgba(0, 0, 0, 0.12) !important;
}

/* Textarea Glass */
textarea {
  background: rgba(255, 255, 255, 0.6) !important;
  backdrop-filter: blur(8px) !important;
  -webkit-backdrop-filter: blur(8px) !important;
  border: 1px solid rgba(0, 0, 0, 0.08) !important;
  box-shadow: inset 0 2px 4px rgba(0, 0, 0, 0.04) !important;
  transition: all 0.2s ease !important;
}

textarea:focus {
  background: rgba(255, 255, 255, 0.8) !important;
  border: 1px solid rgba(0, 0, 0, 0.12) !important;
  box-shadow: 0 0 0 3px rgba(59, 130, 246, 0.1),
              inset 0 2px 4px rgba(0, 0, 0, 0.04) !important;
}

/* ============================================
   ADDITIONAL ENHANCEMENTS
   ============================================ */

/* Table Header Glass Effect */
thead,
[role="rowgroup"]:first-child {
  background: rgba(248, 250, 252, 0.8) !important;
  backdrop-filter: blur(8px) !important;
  -webkit-backdrop-filter: blur(8px) !important;
  border-bottom: 1px solid rgba(0, 0, 0, 0.06) !important;
}

/* Table Row Hover Glass Effect */
[role="row"]:hover {
  background: rgba(59, 130, 246, 0.03) !important;
  backdrop-filter: blur(4px) !important;
  -webkit-backdrop-filter: blur(4px) !important;
  transition: all 0.2s ease !important;
}

/* Table Cells with subtle glass on hover */
tbody [role="cell"] {
  transition: all 0.2s ease !important;
}

/* Pagination Glass */
nav[aria-label*="pagination"] > ul,
.pagination-container {
  background: rgba(255, 255, 255, 0.6) !important;
  backdrop-filter: blur(10px) !important;
  -webkit-backdrop-filter: blur(10px) !important;
  border: 1px solid rgba(0, 0, 0, 0.08) !important;
  border-radius: 10px !important;
  padding: 4px !important;
  box-shadow: 0 2px 8px rgba(0, 0, 0, 0.05) !important;
}

/* Pagination Buttons */
nav[aria-label*="pagination"] button,
nav[aria-label*="pagination"] a {
  background: transparent !important;
  transition: all 0.2s ease !important;
}

nav[aria-label*="pagination"] button:hover,
nav[aria-label*="pagination"] a:hover {
  background: rgba(255, 255, 255, 0.8) !important;
  backdrop-filter: blur(8px) !important;
  -webkit-backdrop-filter: blur(8px) !important;
}

nav[aria-label*="pagination"] [aria-current="page"],
nav[aria-label*="pagination"] [data-active="true"] {
  background: rgba(59, 130, 246, 0.15) !important;
  backdrop-filter: blur(8px) !important;
  -webkit-backdrop-filter: blur(8px) !important;
  border: 1px solid rgba(59, 130, 246, 0.2) !important;
}

/* Tooltip Glass */
[role="tooltip"] {
  background: rgba(30, 30, 40, 0.9) !important;
  backdrop-filter: blur(12px) !important;
  -webkit-backdrop-filter: blur(12px) !important;
  border: 1px solid rgba(255, 255, 255, 0.1) !important;
  box-shadow: 0 4px 16px rgba(0, 0, 0, 0.2) !important;
}

/* Dropdown Menu Items */
[role="menuitem"],
[role="option"],
[data-radix-select-item] {
  transition: all 0.2s ease !important;
  border-radius: 6px !important;
  margin: 2px 4px !important;
}

[role="menuitem"]:hover,
[role="option"]:hover,
[data-radix-select-item]:hover,
[data-highlighted] {
  background: rgba(255, 255, 255, 0.6) !important;
  backdrop-filter: blur(8px) !important;
  -webkit-backdrop-filter: blur(8px) !important;
  box-shadow: 0 2px 8px rgba(0, 0, 0, 0.04) !important;
}

/* Select Items Active State */
[data-state="checked"],
[aria-selected="true"] {
  background: rgba(59, 130, 246, 0.12) !important;
  backdrop-filter: blur(8px) !important;
  -webkit-backdrop-filter: blur(8px) !important;
  border: 1px solid rgba(59, 130, 246, 0.2) !important;
}

/* Badge/Chip Glass */
.badge,
[data-badge] {
  background: rgba(59, 130, 246, 0.15) !important;
  backdrop-filter: blur(8px) !important;
  -webkit-backdrop-filter: blur(8px) !important;
  border: 1px solid rgba(59, 130, 246, 0.2) !important;
  box-shadow: 0 2px 8px rgba(59, 130, 246, 0.1) !important;
}

/* Expandable Card/Details Glass */
.expandable-card,
[data-state="open"] .card-content,
.view-more-expanded {
  background: rgba(249, 250, 251, 0.95) !important;
  backdrop-filter: blur(12px) !important;
  -webkit-backdrop-filter: blur(12px) !important;
  border: 1px solid rgba(0, 0, 0, 0.06) !important;
  box-shadow: 0 4px 16px rgba(0, 0, 0, 0.06) !important;
  border-radius: 10px !important;
}

/* ============================================
   PERFORMANCE OPTIMIZATIONS
   ============================================ */

/* Add will-change for blur performance */
.content-card,
[data-radix-popper-content-wrapper] > div,
[role="dialog"],
button,
input,
textarea,
[data-sidebar="sidebar"] {
  will-change: backdrop-filter, transform;
}

/* Reduce blur on animations for performance */
@media (prefers-reduced-motion: reduce) {
  * {
    backdrop-filter: none !important;
    -webkit-backdrop-filter: none !important;
  }
}

/* ============================================
   FALLBACKS FOR UNSUPPORTED BROWSERS
   ============================================ */

/* Fallback for browsers that don't support backdrop-filter */
@supports not (backdrop-filter: blur(10px)) {
  .content-card,
  [data-radix-popper-content-wrapper] > div,
  [role="dialog"],
  button,
  input,
  textarea {
    background: rgba(255, 255, 255, 0.95) !important;
    box-shadow: 0 4px 16px rgba(0, 0, 0, 0.1) !important;
  }
  
  .dark .content-card,
  .dark [data-radix-popper-content-wrapper] > div,
  .dark [role="dialog"],
  .dark button,
  .dark input,
  .dark textarea {
    background: rgba(30, 30, 40, 0.95) !important;
  }
}

/* ============================================
   LIGHT REFRACTION EFFECTS
   ============================================ */

/* Subtle highlight on top edge (light refraction) */
.content-card::before,
button[class*="bg-primary"]::before,
[role="dialog"]::before {
  content: "";
  position: absolute;
  top: 0;
  left: 0;
  right: 0;
  height: 1px;
  background: linear-gradient(90deg, 
    transparent, 
    rgba(255, 255, 255, 0.8), 
    transparent
  );
  opacity: 0.6;
  pointer-events: none;
}

/* Ambient glow for interactive elements */
button:not([disabled]):hover {
  box-shadow: 0 6px 20px rgba(0, 0, 0, 0.1),
              0 0 20px rgba(59, 130, 246, 0.1),
              inset 0 1px 0 rgba(255, 255, 255, 0.4) !important;
}

/* ============================================
   DARK MODE ADJUSTMENTS
   ============================================ */

.dark .content-card,
.dark [data-radix-popper-content-wrapper] > div,
.dark [role="dialog"] {
  box-shadow: 0 8px 32px rgba(0, 0, 0, 0.5),
              inset 0 1px 0 rgba(255, 255, 255, 0.05) !important;
}

.dark button[class*="bg-primary"]::before,
.dark .content-card::before {
  background: linear-gradient(90deg, 
    transparent, 
    rgba(255, 255, 255, 0.15), 
    transparent
  );
}
